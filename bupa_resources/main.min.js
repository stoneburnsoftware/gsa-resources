(function(){this.dd={}}).call(this);(function(){dd.config={hello:"world"}})(dd);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a,b){function c(a){function b(a){d?(c(),E(b),e=!0,d=!1):e=!1}var c=a,d=!1,e=!1;this.kick=function(a){d=!0;e||b()};this.end=function(a){var b=c;a&&(e?(c=d?function(){b();a()}:a,d=!0):a())}}function d(){return!0}function e(){return!1}function f(a){a.preventDefault()}function g(a){y[a.target.tagName.toLowerCase()]||a.preventDefault()}function h(a,b){var c,d;if(a.identifiedTouch)return a.identifiedTouch(b);c=
-1;for(d=a.length;++c<d;)if(a[c].identifier===b)return a[c]}function k(a,b){var c=h(a.changedTouches,b.identifier);if(c&&(c.pageX!==b.pageX||c.pageY!==b.pageY))return c}function l(a){u(a,a.data,a,q)}function m(a){q()}function q(){r(document,v.move,l);r(document,v.cancel,m)}function t(a){var c=a.data,b=k(a,c);b&&u(a,c,b,p)}function n(a){var c=a.data;h(a.changedTouches,c.identifier)&&p(c.identifier)}function p(a){r(document,"."+a,t);r(document,"."+a,n)}function u(a,c,b,d){var e=b.pageX-c.startX,f=b.pageY-
c.startY;36>e*e+f*f||F(a,c,b,e,f,d)}function w(){this._handled=d;return!1}function x(a){a._handled()}function F(c,b,d,e,f,g){var h,k;h=c.targetTouches;k=c.timeStamp-b.timeStamp;b.type="movestart";b.distX=e;b.distY=f;b.deltaX=e;b.deltaY=f;b.pageX=d.pageX;b.pageY=d.pageY;b.velocityX=e/k;b.velocityY=f/k;b.targetTouches=h;b.finger=h?h.length:1;b._handled=w;b._preventTouchmoveDefault=function(){c.preventDefault()};a.event.trigger(b,void 0,b.target);g(b.identifier)}function z(a){var b=a.data.timer;a.data.touch=
a;a.data.timeStamp=a.timeStamp;b.kick()}function A(a){var b=a.data.event;a=a.data.timer;r(document,v.move,z);r(document,v.end,A);B(b,a,function(){setTimeout(function(){r(b.target,"click",e)},0)})}function C(a){var b=a.data.event,c=a.data.timer,d=k(a,b);d&&(a.preventDefault(),b.targetTouches=a.targetTouches,a.data.touch=d,a.data.timeStamp=a.timeStamp,c.kick())}function D(a){var b=a.data.event,c=a.data.timer;h(a.changedTouches,b.identifier)&&(r(document,"."+b.identifier,C),r(document,"."+b.identifier,
D),B(b,c))}function B(b,c,d){c.end(function(){b.type="moveend";a.event.trigger(b,void 0,b.target);return d&&d()})}var s=a.event.add,r=a.event.remove,E=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){return window.setTimeout(function(){a()},25)}}(),y={textarea:!0,input:!0,select:!0,button:!0},v={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"};
a.event.special.movestart={setup:function(a,b,c){s(this,"movestart.move",x);return!0},teardown:function(a){r(this,"dragstart drag",f);r(this,"mousedown touchstart",g);r(this,"movestart",x);return!0},add:function(a){"move"!==a.namespace&&"moveend"!==a.namespace&&(s(this,"dragstart."+a.guid+" drag."+a.guid,f,b,a.selector),s(this,"mousedown."+a.guid,g,b,a.selector))},remove:function(a){"move"!==a.namespace&&"moveend"!==a.namespace&&(r(this,"dragstart."+a.guid+" drag."+a.guid),r(this,"mousedown."+a.guid))},
_default:function(d){function f(b){b=g;var c=h.touch,e=h.timeStamp-b.timeStamp;b.type="move";b.distX=c.pageX-b.startX;b.distY=c.pageY-b.startY;b.deltaX=c.pageX-b.pageX;b.deltaY=c.pageY-b.pageY;b.velocityX=.3*b.velocityX+.7*b.deltaX/e;b.velocityY=.3*b.velocityY+.7*b.deltaY/e;b.pageX=c.pageX;b.pageY=c.pageY;a.event.trigger(g,void 0,d.target)}var g,h;d._handled()&&(g={target:d.target,startX:d.startX,startY:d.startY,pageX:d.pageX,pageY:d.pageY,distX:d.distX,distY:d.distY,deltaX:d.deltaX,deltaY:d.deltaY,
velocityX:d.velocityX,velocityY:d.velocityY,timeStamp:d.timeStamp,identifier:d.identifier,targetTouches:d.targetTouches,finger:d.finger},h={event:g,timer:new c(f),touch:b,timeStamp:b},d.identifier===b?(s(d.target,"click",e),s(document,v.move,z,h),s(document,v.end,A,h)):(d._preventTouchmoveDefault(),s(document,"touchmove."+d.identifier,C,h),s(document,"touchend."+d.identifier,D,h)))}};a.event.special.move={setup:function(){s(this,"movestart.move",a.noop)},teardown:function(){r(this,"movestart.move",
a.noop)}};a.event.special.moveend={setup:function(){s(this,"movestart.moveend",a.noop)},teardown:function(){r(this,"movestart.moveend",a.noop)}};s(document,"mousedown.move",function(a){1!==a.which||a.ctrlKey||a.altKey||(a={target:a.target,startX:a.pageX,startY:a.pageY,timeStamp:a.timeStamp},s(document,v.move,l,a),s(document,v.cancel,m,a))});s(document,"touchstart.move",function(a){var b;y[a.target.tagName.toLowerCase()]||(b=a.changedTouches[0],a={target:b.target,startX:b.pageX,startY:b.pageY,timeStamp:a.timeStamp,
identifier:b.identifier},s(document,"touchmove."+b.identifier,t,a),s(document,"touchend."+b.identifier,n,a))});"function"===typeof Array.prototype.indexOf&&function(a,b){for(var c=["changedTouches","targetTouches"],d=c.length;d--;)-1===a.event.props.indexOf(c[d])&&a.event.props.push(c[d])}(a)});$(function(){dd.util.events();dd.util.initModules();dd.util.initHelpers()});
(function(){window.console||(window.console={});for(var a="log info warn error debug trace dir group groupCollapsed groupEnd time timeEnd profile profileEnd dirxml assert count markTimeline timeStamp clear".split(" "),b=function(){},c=0;c<a.length;c++)window.console[a[c]]||(window.console[a[c]]=b)})();
(function(){dd.util={initModules:function(a){var b=[],c=[];targets=$('[class^="mod-"], [class*=" mod-"]',a);a=$(a);0===a.length&&(a=$(document));a.each(function(){$(this).filter('[class^="mod-"], [class*=" mod-"]').length&&(targets=targets.add($(this)))});targets.each(function(){var a=$(this).prop("class").match(/mod-([^ ]+)/g);$.each(a,function(c){c=a[c].replace("mod-","");c=c.replace(/\s+/g,"");dd[c]?b.push(c):console.log("initModule: The module '"+c+"' does not exist")})});$.each(b,function(a,
b){-1===$.inArray(b,c)&&c.push(b)});var b=c,d=[];$.each(b,function(c){dd[b[c]].init?dd[b[c]].settings.defer?d.push(b[c]):dd[b[c]].init(a):console.log("initModule: The module '"+b[c]+"' does not have an init method")});$.each(d,function(b){dd[d[b]].init?dd[d[b]].init(a):console.log("initModule: The module '"+d[b]+"' does not have an init method")});return b},initHelpers:function(a){a=$(a);0===a.length&&(a=$(document));dd.util.checkedState(a);dd.util.placeholderPoly(a);dd.lazyload.init(a);dd.forms.init(a);
dd.tel.init(a);dd["meta-viewport"].init(a);dd["scroll-to"].init(a)},events:function(){var a;$(window).resize(function(){clearTimeout(a);a=setTimeout(function(){$(window).trigger("dd:resize")},150)});$("body").on("click",function(a){a=$(a.target);$(window).trigger("dd:bodyClick",a)})},config:function(a){if("undefined"!==typeof dd.config[a])return dd.config[a]},checkedState:function(a){function b(){dd.util.checkBind(c,function(a,b,c){b.addClass("checked")},function(a,b,c){b.removeClass("checked")})}
var c=$(":checkbox, :radio",a);a=$(a);a.each(function(){$(this).is(":checkbox, :radio")&&(c=c.add($(this)))});b();$(window).on("dd:updateCheckedState",b);return c},checkBind:function(a,b,c){function d(a){var d=$("label").filter('[for="'+a.prop("id")+'"]'),h=a.is(":radio")?"radio":"checkbox";a.is(":checked")?("radio"==h&&e(a,c),b(a,d,h)):c(a,d,h)}function e(a,b){$(":radio").filter('[name="'+a.prop("name")+'"]').not(a).each(function(){var a=$(this),c=$("label").filter('[for="'+a.prop("id")+'"]'),d=
a.is(":radio")?"radio":"checkbox";b(a,c,d)})}a.each(function(){var a=$(this);d(a);a.change(function(){d(a)})})},layout:function(){var a=$("body").hasClass("lt-ie9");return"767"<=$(window).width()||a?"lrg":"sml"},focus:function(a){a=$(a);"undefined"==typeof a.attr("tabindex")&&a.attr("tabindex","0");a.focus()},placeholderPoly:function(a){function b(a,b){a.val()===b&&a.val("").removeClass("placeholder")}function c(a,b){""!==a.val()&&a.val()!==b||a.val(b).addClass("placeholder")}if("placeholder"in document.createElement("input"))return!1;
a=$(a);0===a.length&&(a=$(document));a=$(":input[placeholder]",a).addBack(":input[placeholder]");a.each(function(a){var e=$(this),f=e.attr("placeholder");a=e.closest("form");c(e,f);e.bind("focus",function(){b(e,f)});e.bind("blur",function(){c(e,f)});a.bind("submit",function(){b(e,f)});$(window).bind("unload",function(){b(e,f)})});return a},objectLength:function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b},supports:{cssTransitions:function(){if(this._cache.cssTransitions)return this._cache.cssTransitions;
var a=!1,b=["Webkit","Moz","ms","O"],c=document.createElement("div");void 0!==c.style.transition&&(a=!0);for(var d=0;d<b.length;d++)if(void 0!==c.style[b[d]+"Transitions"]){a=!0;break}return this._cache.cssTransitions=a},_cache:{}}}})(dd);
(function () {
    dd.typeahead = {
        settings: {
            target: '.mod-typeahead',
			limit: 5,
			minLength: 3,
			closeIcon: '.close-icon-over-input',
            url: '/suggest?max=10&site=bupa_all&client=bupa&access=p&format=os&q=%QUERY'
        },
        init: function (context) {
            var s = this.settings;

            $(s.target, context).addBack(s.target).each(function () {
                var target = $(this),
					minLength = s.minLength;
					
                // Bind your events here
                //console.log('Init fired and ready to start integration');

                // Instantiate the Bloodhound suggestion engine
                bupaSuggestions = new Bloodhound({
                    datumTokenizer: function (datum) {
                        return Bloodhound.tokenizers.whitespace(datum.value);
                    },
                    queryTokenizer: Bloodhound.tokenizers.whitespace,
					limit: s.limit,
                    remote: {
                        url: s.url,
                        filter: function (bupaSuggestions) {
                            return $.map(bupaSuggestions[1], function (bupaSuggest) {
                                return {
                                    value: bupaSuggest
                                };
                            });
                        }
                    }
                });
                dd.typeahead.testTypeAHead(target, minLength);

            }); //s.target each

        }, //init

        testTypeAHead: function (target, minLength) {
            // Initialize the Bloodhound suggestion engine
            bupaSuggestions.initialize();

            // Instantiate the Typeahead UI
            $('.mod-typeahead').typeahead({
                hint: true,
                highlight: true,
               minLength: minLength
            }, {
                displayKey: 'value',
				footer: $('.mod-showSearchHelperText'),
                source: bupaSuggestions.ttAdapter()
            });
			$('input.tt-hint').attr('disabled', 'disabled');
			
					var numSelectedHandler = function (eventObject, suggestionObject, suggestionDataset) {
    		//alert(suggestionObject.value);
			$('#suggestion_form').submit();
		};

		 $('.mod-typeahead').on('typeahead:selected', numSelectedHandler);

		}

    };
}(dd));

(function () {
    dd.clearInput = {
        settings: {
            target: '.mod-clearInput',
            closeIcon: '.close-icon-over-input',
			gsaSearch: '#gsa_search',
			searchIcon: '.search-icon-grey',
			ttDropdown: '.tt-dropdown-menu'
        },
        init: function (context) {
            var s = this.settings;

            $(s.target, context).addBack(s.target).each(function () {
				var target = $(this);
                // Bind your events here
                // console.log('Init fired and ready to start integration');

                var clearInputVal = function () {
					
					if ($(s.gsaSearch).val().length > 0) {
						$(s.closeIcon).css('opacity', 1);
						
						$(s.closeIcon).on('click', function () {
                           $(s.target).val('');
						   $('.mod-typeahead').typeahead('val', '');
						   $(s.closeIcon).css('opacity', 0);
						   $(s.searchIcon).css('opacity', 0);
						   $(s.ttDropdown).css('display', 'none');
						   $(s.target).focus();
						});//on
					}//if
					
					/*$(s.target).focus(function () {
                        $(s.closeIcon).css('opacity', 1);

                        $(s.closeIcon).on('click', function () {
                           $(s.target).val('');
						   $('.mod-typeahead').typeahead('val', '');
						   $(s.closeIcon).css('opacity', 0);
						   $(s.searchIcon).css('opacity', 0);
						   $(s.ttDropdown).css('display', 'none');
						   
						   	$(s.target).blur(function () {
								$(s.closeIcon).css('opacity', 0);
							});
							
							$(s.target).blur(function () {
								$(s.searchIcon).css('opacity', 0);
							});
                        });
					});//focus*/
					
					if ($(s.target).val().length === 0) {
						$(s.target).blur(function () {
							$(s.closeIcon).css('opacity', 0);
						});
					}

                }; //clearInputVal
				
				var clearInputValKeyUp = function() {
					$(s.target).keyup(function() {
						var len = $(this).val().length;
					
					if (len > 0) {
						$(s.target).unbind('blur');
						$(s.closeIcon).css('opacity', 1);

                        $(s.closeIcon).on('click', function () {
                           $(s.target).val('');
						   $(s.gsaSearch).val('');
						   $('.mod-typeahead').typeahead('val', '');
						   $(s.ttDropdown).css('display', 'none');
						   $(s.target).focus();
                        });
					}
					
					else {
                        $(s.closeIcon).css('opacity', 0);
						$(s.target).blur(function () {
							$(s.closeIcon).css('opacity', 0);
						});
					}
					});//keyup
				};//clearInputValKeyUp

                dd.clearInput.action(clearInputVal, clearInputValKeyUp, s);

            });

        },

        action: function (clearInputVal, clearInputValKeyUp, s) {

            // We'd recommend you keep your login in new functions
            clearInputVal();
            clearInputValKeyUp();
			//$(s.gsaSearch).keyup(clearInputVal);

        }

    };
}(dd));

(function () {
    dd.showSearchIcon = {
        settings: {
            target: '.mod-showSearchIcon',
            searchIcon: '.search-icon-grey',
			gsaSearch: '#gsa_search'
        },
        init: function (context) {
            var s = this.settings;

            $(s.target, context).addBack(s.target).each(function () {
				var target = $(this);
                // Bind your events here
                // console.log('Init fired and ready to start integration');

                var showHideSearchIcon = function () {
					
					if ($(s.gsaSearch).val().length > 0) {
						$(s.searchIcon).css('opacity', 1);
					}//if

                    $(s.target).focus(function () {
                        $(s.searchIcon).css('opacity', 1);
                    });
					
					if ($(s.gsaSearch).val().length === 0) {
						$(s.target).blur(function () {
							$(s.searchIcon).css('opacity', 0);
						});
					}
							
                }; //showHideSearchIcon
				
				var showHideSearchIconKeyUp = function () {
					$(s.target).keyup(function() {
					var len = $(this).val().length;
									
				if (len > 0) {
						$(s.target).unbind('blur');
						$(s.searchIcon).css('opacity', 1);
					}
					
					else {
                        $(s.searchIcon).css('opacity', 0);
						$(s.target).blur(function () {
							$(s.searchIcon).css('opacity', 0);
						});
					}
					
					});//keyup
				};//showHideSearchIconKeyUp

                dd.showSearchIcon.onFocusBlur(showHideSearchIcon, showHideSearchIconKeyUp, s);

            });

        },

        onFocusBlur: function (showHideSearchIcon, showHideSearchIconKeyUp, s) {

            // We'd recommend you keep your login in new functions
            showHideSearchIcon();
			showHideSearchIconKeyUp();
        }

    };
}(dd));
(function(){dd["a-z"]={settings:{defer:!0,target:".mod-a-z",minQueryLength:3,icons:{play:"<i class='i-play'></i>"}},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){function a(){dd["a-z"].updatePrefixList(k,!1,!1);dd["a-z"].updateResultSet(l,!1);g.removeClass("keypad-active");g.find(".key-active").removeClass("key-active");b.removeClass("prefix-active");m.text("")}var b=$(this),e=b.data("source"),f=!1,g=b.find(".keypad"),h=g.find(".letter-list"),k=g.find(".prefix-list"),
l=b.find(".result-set"),m=b.find(".filter-letters");f||$.getJSON(e,function(a){f=a;f=dd["a-z"].flattenResults(f);f=dd["a-z"].enforceLetterPattern(f);f=dd["a-z"].mergeYZ(f);dd.util.objectLength(f)&&dd["a-z"].updateLetterList(h,f)});g.on("click","a[href]",function(e){var h=$(e.target),n=h.attr("data-prefix"),p=h.attr("data-letter");n&&!p&&(p=dd["a-z"].getLetter(n));var u=f[p];b.toggleClass("letter-active","A-Z"!==p);if("A-Z"==p)a(),e.preventDefault(),g.find("[data-letter]").eq(0).focus();else if(p&&
u){var w=p;if(n)w=n,u=dd["a-z"].getResultsByPrefix(u,n),b.addClass("prefix-active");else{a();var x=dd["a-z"].getLetterPrefixes(u);dd["a-z"].updatePrefixList(k,x,p)}dd["a-z"].updateResultSet(l,u,n);h.closest("ul").find(".key-active").removeClass("key-active");h=g.find('[data-letter="'+p+'"]');h=n?h.filter('[data-prefix="'+n+'"]'):h.not("[data-prefix]");h.addClass("key-active");g.addClass("keypad-active");m.text(w);dd.util.focus(g);e.preventDefault()}})})},updateLetterList:function(a,b){var c=dd["a-z"].buildLetterList(b);
a.html(c);return a},buildLetterList:function(a,b){var c="";for(letter in a)if(a.hasOwnProperty(letter)&&"function"!==typeof letter){var d="",e=!!dd.util.objectLength(a[letter]);"A-Z"==letter&&(d+=" a-z");e||(d+=" no-results");letter==b&&(d+=" key-active");c+='<li class="'+d+'">';c+="<a ";e&&(c+='href="#" ');c+='class="'+d+'"data-letter="'+letter+'">'+letter+"</a></li>"}return c},updatePrefixList:function(a,b,c){var d={},e="";b&&(d["A-Z"]=[!0],d[c]=[!0],e=e+'<ul class="key-breadcrumb">'+dd["a-z"].buildLetterList(d),
e+="</ul>",e+='<ul class="key-prefix">',e+=dd["a-z"].buildPrefixList(b,c),e+="</ul>");a.html(e);return a},buildPrefixList:function(a,b){var c="";for(prefix in a)a.hasOwnProperty(prefix)&&"function"!==typeof prefix&&(c+='<li><a href="?prefix='+prefix+'" data-prefix="'+prefix+'" data-letter="'+b+'">'+prefix+"</a></li>");return c},updateResultSet:function(a,b,c){"undefined"==typeof c&&(c=!1);var d="",e=2;c&&14>=b.length&&(e=1);if(b){c=Math.ceil(b.length/e);for(var f="w-"+Math.floor(100/e),g=[],h={},
d=d+'<div class="grid">',k=0;k<e;k++)g=b.slice(k*c,(k+1)*c),d+='<div class="col '+f+'"><div class="pad"><ul class="result-group">',g=dd["a-z"].getPrefixGroups(g),$.each(g,function(a,b){d+='<li class="prefix-group">';h[a]||(h[a]=!0,d+='<div class="prefix-heading">'+a+"</div>");d+="<ul>"+dd["a-z"].buildResultList(b)+"</ul></li>"}),d+="</ul></div></div>";d+="</div>"}a.html(d);return a},getLetter:function(a){return a.charAt(0).toUpperCase()},buildResultList:function(a){var b="";$.each(a,function(a,d){b+=
'<li><a href="'+d.url+'">'+d.title+"</a></li>"});return b},getLetterPrefixes:function(a){var b={};$.each(a,function(a,d){var e=dd["a-z"].getPrefix(d.title);b[e]||(b[e]=[]);b[e].push(d)});return b},getPrefix:function(a){if("string"!==typeof a)return!1;a=a.replace(/<\/?[^>]+(>|$)/g,"");a=a.charAt(0).toUpperCase()+a.charAt(1).toLowerCase();return a.replace(/\W/g,"")},getPrefixGroups:function(a){var b={};$.each(a,function(a,d){var e=dd["a-z"].getPrefix(d.title);b[e]||(b[e]=[]);b[e].push(d)});return b},
getResultsByPrefix:function(a,b){var c=[];$.each(a,function(a,e){b==dd["a-z"].getPrefix(e.title)&&c.push(e)});return c},getResultsByTerm:function(a,b){var c=[],d=0;b=b.toLowerCase();a=dd["a-z"].flattenResults(a);$.each(a,function(a,f){d=f.title.toLowerCase().indexOf(b);0<=d&&c.push(f)});return c},flattenResults:function(a){var b=[];$.each(a,function(a,d){$.merge(b,d)});return b},enforceLetterPattern:function(a){for(var b={},c=0;25>c;c++){var d="ABCDEFGHIJKLMNOPQRSTUVWXY".charAt(c);b[d]=[]}$.each(a,
function(a,c){var d=dd["a-z"].getLetter(c.title);b[d]?b[d].push(c):"Z"==d&&(b.Z=[c])});return b},mergeYZ:function(a){if(a.Z){a.Y||(a.Y=[]);a["Y/Z"]=[];for(var b=0,c=a.Y.length;b<c;b++)a["Y/Z"].push(a.Y[b]);b=0;for(c=a.Z.length;b<c;b++)a["Y/Z"].push(a.Z[b]);delete a.Y;delete a.Z}return a}}})(dd);
(function(){dd.accordion={settings:{target:".mod-accordion",bellows:"> .ac-item",head:".ac-head",triggers:".ac-head, .ac-trigger, .ac-close",active:"ac-open"},init:function(a){var b=dd.accordion.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this),d=a.find(b.bellows);d.on("click",b.triggers,function(a){var c=$(a.delegateTarget),d=$(this);c.find(b.head);var h=c.hasClass(b.active);c.toggleClass(b.active,!h);$(window).trigger("dd:resize");h&&("sml"==dd.util.layout()||d.hasClass("ac-close"))&&
dd["scroll-to"].scrollTo(c);!h&&d.hasClass("ac-open-scroll")&&dd["scroll-to"].scrollTo(c);h&&$(window).trigger("dd:contentHidden",c);a.preventDefault()});a.find(".ac-scroll-item").on("click",function(a){var c=$(this).closest(d);c.find(b.head);dd["scroll-to"].scrollTo(c);a.preventDefault()})})}}})(dd);
(function(){dd["bmi-calculator"]={settings:{target:".mod-bmi-calculator"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){$(this).find("form").on("submit",dd["bmi-calculator"].updateResult)})},updateResult:function(a){var b=$(this).attr("action").split("#"),c=b[0];a.preventDefault();$.ajax({url:c,success:function(a){a=$(a).find("#"+b[1]);$("#bmi-results").html(a);dd.util.initModules(a);dd.util.initHelpers(a)}})}}})(function(){dd.carousel={settings:{target:".mod-carousel"},
init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(a){a=$(this);console.log('Paul');dd.carousel.prepTheStage(a);dd.carousel.showtime(a)})},prepTheStage:function(a){a=a.find(".rail");a.find(".prop").each(function(a){$(this).attr("data-inventory",a)});var b=a.clone().removeClass("rail").addClass("inventory");b.insertBefore(a);dd.carousel.addEvents(b);a.html("")},showtime:function(a){function b(){l=dd.carousel.calculateBounds(e,f);dd.carousel.updateConstraints(e,g,h,k,l);var b=f.length<=
l.stage.propCapacity;a.toggleClass("short-staffed",b);b||(l=dd.carousel.calculateBounds(e,f),k=dd.carousel.propsOnSet(g,k,f,l,m),c(0));a.toggleClass("transitions-enabled",!b)}function c(b,c){b||(b=0);c||(c=f);var d=0;m=dd.carousel.propSpotlight(k,l,b,m);k=dd.carousel.propsOnSet(g,k,c,l,m);dd.carousel.updateConstraints(e,g,h,k,l);dd.carousel.updatePositions(k,l,m);d=b/l.stage.propCapacity;dd.carousel.updateSetList(a,l.sets,d)}function d(){500>n&&(n=500);p=setInterval(function(){Math.random();c(l.stage.propCapacity)},
n)}var e=a.find(".stage"),f=e.find(".inventory").children(),g=e.find(".rail"),h=e.find(".curtain"),k=dd.carousel.propsOnSet(g,!1,f,l,!1),l=dd.carousel.calculateBounds(e,k),m=dd.carousel.updatePositions(k,l,k.eq(0)),q=a.find(".controls"),t="undefined"!==typeof a.attr("data-interval"),n=+a.attr("data-interval")||1E4,p=!1;$(window).on("dd:resize",b);b();q.on("click","a",function(a){var b=$(a.currentTarget),d=l.stage.propCapacity,e=b.attr("data-offset");b.hasClass("set-prev")&&(d*=-1);e&&(d=l.stage.propCapacity*
+e);clearInterval(p);c(d);a.preventDefault()});g.on("movestart",function(a){$(a.target);var b=l.stage.propCapacity;a.distY>a.distX&&a.distY<-a.distX||a.distY<a.distX&&a.distY>-a.distX?(0<a.distX&&(b*=-1),clearInterval(p),c(b)):a.preventDefault()});t&&d()},updateConstraints:function(a,b,c,d,e){a.add(b).outerHeight(e.stage.height);b.add(c).outerWidth(e.viewport.width);b.add(c).css("left","-"+e.stage.offset.left+"px")},updatePositions:function(a,b,c){var d=b.stage.offset.left,e=c.index(),f=0,g=!dd.util.supports.cssTransitions(),
h=0;a.removeClass("on-stage");a.each(function(){var a=$(this);weight=dd.carousel.getPropWeight(a);e>h&&(f+=weight);e<=h&&e+b.stage.propCapacity>h+(weight-1)?(a.addClass("on-stage"),h+=weight):h++});d-=f*b.prop.width;a.each(function(){var a=$(this),c=dd.carousel.getPropWeight(a);g?a.animate({left:d},700):a.css("left",d);d+=b.prop.width*c});return c},propsOnSet:function(a,b,c,d,e){if(b){var f=e.index(),g=+b.eq(0).attr("data-inventory"),h=+b.eq(-1).attr("data-inventory");e.attr("data-inventory");e=d.viewport.propsBeforeStage+
d.viewport.propsReserve-f;f=d.viewport.propsAfterStage+d.viewport.propsReserve-(b.length-(f+(d.stage.propCapacity-1)));if(0<e&&isFinite(e)){for(var k=$("<div>"),l=0;l<e;l++){var m=g-l-1,m=dd.carousel.getElemEq(c,m);k.prepend(m.clone().css("left","-"+(d.viewport.width+2*d.prop.width)+"px"))}g=$(k.html());a.prepend(g);dd.carousel.addEvents(g);k.remove()}else if(0>e&&isFinite(e))for(g=Math.abs(e),l=0;l<=g;l++)m=b.eq(0),k=dd.carousel.getPropWeight(m),b=b.not(m),m.remove(),l+=k-1;if(0<f&&isFinite(e)){k=
$("<div>");for(l=0;l<f;l++)m=h+l+1,m=dd.carousel.getElemEq(c,m),k.append(m.clone().css("left",d.viewport.width+2*d.prop.width+"px"));g=$(k.html());a.append(g);dd.carousel.addEvents(g);k.remove()}else if(0>f)for(g=Math.abs(f),l=0;l<=g;l++)m=b.eq(-1),k=dd.carousel.getPropWeight(m),b=b.not(m),m.remove(),l+=k-1}else b=c.clone(),a.html(b),dd.carousel.addEvents(b);return b=a.find(".prop")},propSpotlight:function(a,b,c,d){b=d.index();d=0;var e=0>c;c=Math.abs(c);for(var f=0;f<c;f++){var g=f;e&&(g*=-1);g=
a.eq(b+g);g=dd.carousel.getPropWeight(g);g=Math.abs(g-2,10);d+=g}e&&(d*=-1);b+=d;0>b&&(b=0);b>=a.length&&(b=a.length-1);return d=a.eq(b)},calculateBounds:function(a,b){var c={stage:{},prop:{},viewport:{},production:{}},d=b.filter(":not(.prop-primary)").eq(0);c.prop.width=1;d.length?c.prop.width=dd.carousel.getElemWidth(d):(d=b.filter(".prop-primary").eq(0),d.length&&(c.prop.width=dd.carousel.getElemWidth(d)/2));c.viewport.width=$(window).width();320>c.viewport.width&&(c.viewport.width=320);c.stage.width=
dd.carousel.getElemWidth(a);c.stage.height=dd.carousel.getTallestElemHeight(b);c.stage.propCapacity=dd.carousel.getPropCapacity(c.stage.width,c.prop.width);1>c.stage.propCapacity&&(c.stage.propCapacity=1);c.stage.offset=a.offset();c.stage.offset.right=c.stage.offset.left+c.stage.width;c.stage.offset.bottom=c.stage.offset.top+c.stage.height;c.viewport.propsBeforeStage=dd.carousel.getPropCapacity(c.stage.offset.left,c.prop.width,!0);c.viewport.propsAfterStage=dd.carousel.getPropCapacity(c.viewport.width-
c.stage.offset.right,c.prop.width,!0);var d=3*c.stage.propCapacity,e=Math.ceil(b.length/2);d<e&&(d=e);c.viewport.propsReserve=d;c.sets=dd.carousel.compileSets(b,c.stage.propCapacity);return c},updateSetList:function(a,b,c){a=a.find(".set-list");var d=$("<ul />"),e=+a.attr("data-set");b=b.length;var f="";e||(e=1);c&&(e+=c);e>b&&(e=1);1>e&&(e=b);for(c=1;c<=b;c++)f='<li><a href="#" data-offset="'+(c-e)+'"',c==e&&(f+=' class="active"'),f+='data-set="'+c+'">'+c+"</a></li>",d.append(f);return a.attr("data-set",
e).html(d.html())},compileSets:function(a,b){var c=[],d=0,e=0;a.each(function(a){var g=$(this),h=dd.carousel.getPropWeight(g);e+=h;if(e>b||0==a)c[d]=[],d++,e=h;c[d-1].push(g)});return c},getElemWidth:function(a){var b=0,b=a[0];"undefined"!==typeof b.getBoundingClientRect?(a=b.getBoundingClientRect(),b=a.width?Math.round(a.width):Math.round(a.right-a.left)):b=a.outerWidth();return b},getElemHeight:function(a){var b=0,b=a[0];"undefined"!==typeof b.getBoundingClientRect?(a=b.getBoundingClientRect(),
b=a.height?Math.round(a.height):Math.round(a.bottom-a.top)):b=a.outerHeight();return b},getPropWeight:function(a){return a.filter(".prop-primary").length&&"lrg"==dd.util.layout()?2:1},getPropCapacity:function(a,b,c){a/=b;return c?Math.ceil(a):Math.floor(a)},getTallestElemHeight:function(a){var b=0;a.css("height","");a.each(function(){var a=dd.carousel.getElemHeight($(this));a>b&&(b=a)});return b},getElemEq:function(a,b){var c=a.length;0!==b&&(0>b?(b=Math.abs(b),b=c-b%c):b%=c);return a.eq(b)},addEvents:function(a){dd.util.initModules(a);
dd.util.initHelpers(a);a.find(".video-modal").on("click",function(a){var c=$(this),d=c.closest(dd.carousel.settings.target);dd.carousel.videoModal(d,c);a.preventDefault()})},videoModal:function(a,b){a.find(".carousel-modal").remove();var c=dd.carousel.buildModal(a),d=dd.video.createPlaceholder(b);c.prepend(d);dd.video.play(d);return c},buildModal:function(a){a=a.find(".stage");var b=a.find(".rail").outerHeight(),c=$('<div class="carousel-modal"></div>'),d=$('<a href="#" class="modal-close">Close</a>');
c.height(b);c.prepend(d);d.on("click",function(a){c.remove();a.preventDefault()});a.prepend(c);return c}}}(dd));
(function(){dd["compare-contact-bar"]={settings:{target:".mod-compare-contact-bar"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){function a(){"lrg"!==dd.util.layout()?f.each(function(a){h[a]=$(this).offset().top}):g.show()}function b(){if("lrg"!==dd.util.layout()){var a=$(window).scrollTop(),c=0;$.each(h,function(b,d){a>d&&(c=b)});g.hide().eq(c).show()}}var e=$(this),f=$(".mod-tile-results .tile"),g=e.find(".pin-reserve .col"),h=[];a();b();$(window).on("dd:resize",
a);$(window).on("scroll dd:resize",b)})}}})(dd);
(function(){dd.dialog={settings:{target:".mod-dialog"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){$(this).on("click",dd.dialog.open)});$("body").on("click",".dialog-close a, .dialog-mask",dd.dialog.close)},open:function(a){a.preventDefault();var b=$('<div class="dialog-wrapper"><div class="dialog-mask"></div><div class="dialog"><div class="dialog-content"></div></div><div class="dialog-close"><a href="#"><span class="orb"><i class="i-orb-x"></i></span></a></div></div>'),c=
$(this),d=c.closest("form");a="get";var e="",f=c.attr("href"),g=b.find(".dialog-content"),h=b.find(".dialog-mask");c.is(":button")&&d.length&&(f=d.attr("action"),e=d.serialize(),a=d.attr("method")||a,c.attr("name")&&(e+="&"+c.attr("name")+"="+c.val()));var f=f.split("#"),c=f[0],k=f[1];$(".wrapper").add(h).on("touchstart touchmove",dd.dialog.preventMove);$.ajax({url:c,type:a,data:e,success:function(a){$("body").addClass("stop-scroll").append(b);setTimeout(function(){$(".dialog").addClass("animate")},
10);setTimeout(function(){$(window).trigger("dd:resize")},500);g.append($(a).find("#"+k));dd.util.initModules(g);dd.util.initHelpers(g);$(window).on("dd:resize",dd.dialog.resize)}})},close:function(a){a.preventDefault();if("click"===a.type||27===a.which)$(".dialog").removeClass("animate"),setTimeout(function(){$(".dialog-wrapper").remove();$("body").removeClass("stop-scroll").css("height","")},500),$(window).off("dd:resize",dd.dialog.resize),$(".wrapper").off("touchstart touchmove",dd.dialog.preventMove)},
preventMove:function(a){a.preventDefault()},resize:function(){var a=$(window).height();$("body").height(a)}}})(dd);(function(){dd["enquiry-heading"]={settings:{target:".mod-enquiry-heading"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this).find(".select-trigger");a.on("change",function(){dd["enquiry-heading"].selectGo(a)})})},selectGo:function(a){a=a.closest("form");a.length&&a.submit()}}})(dd);
(function(){dd["eq-rows"]={settings:{target:".mod-eq-rows"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);dd["eq-rows"].tables(a)})},tables:function(a){var b=[];a.find(a.attr("data-tables")).each(function(c){$(this).find(a.attr("data-rows")).each(function(a){b[a]||(b[a]=[]);b[a][c]=$(this)})});$.each(b,function(a){b[a]=$(this).map(function(){return this.toArray()})});var c=dd["eq-rows"].setHeights(a);$(window).on("dd:resize",function(){c=dd["eq-rows"].setHeights(a);
dd["eq-rows"].resize(b,c)});dd["eq-rows"].resize(b,c);setTimeout(function(){dd["eq-rows"].resize(b,c)},200)},setHeights:function(a){return"lrg"==dd.util.layout()||a.hasClass("eq-small")},resize:function(a,b){$.each(a,function(a){a=$(this);var d=0;b?a.each(function(){var a=$(this).css("height","").outerHeight();a>d&&(d=a)}).outerHeight(d):a.css("height","")})}}})(dd);
(function(){dd["facilities-table"]={settings:{target:".mod-facilities-table",moreThreshold:4},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);dd["facilities-table"].more(a)})},more:function(a){var b=dd["facilities-table"].settings,c=0;a.find(".list-ribbon").each(function(){var a=$(this).find("li"),e=a.length;a.slice(b.moreThreshold).addClass("more-row");e>c&&(c=e)});c>b.moreThreshold+1&&a.addClass("more-results");a.on("click",".load-more a",function(b){b.preventDefault();
a.toggleClass("show-more");$(window).trigger("dd:resize").scrollTop(a.offset().top)})}}})(dd);(function(){dd["find-homes"]={settings:{target:".mod-find-homes",stale:"stale-results"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);dd["find-homes"].bind(a)})},bind:function(a){var b=dd["find-homes"].settings;a.find(".search-location .suggest-query").on("keyup change",function(){var c=$(this);a.toggleClass(b.stale,""!==c.val())}).trigger("change")}}})(dd);
(function(){dd.forms={settings:{target:".form",fields:":input:not(:button, :submit, :hidden)"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);$(b.fields,a).each(function(){dd.forms.populated($(this))}).on("change keyup",function(){dd.forms.populated($(this))})})},populated:function(a){a.toggleClass("populated",""!=a.val())}}})(dd);
(function(){dd["funding-quiz"]={settings:{target:".mod-funding-quiz"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this),d=a.find(".stage"),e=d.find(".rail"),f=e.find(".set");d.on("click",".controls .back",function(b){b.preventDefault();b=dd["funding-quiz"].activeSet(f).index()-1;0>b&&(b=0);var d=f.eq(b);f.slice(0,b).removeClass("set-next").addClass("set-prev");f.slice(b+1).remove();d.removeClass("set-prev").removeClass("set-next");a.attr("action",d.attr("data-action"));
dd["funding-quiz"].resize(a);f=e.find(".set")});a.on("submit",function(d){var h=a.attr("action"),k=a.serialize();if(h&&0<h.indexOf("#")){d.preventDefault();var h=h.split("#"),l=h[1];d=h[0];h=dd["funding-quiz"].activeSet(f);if(dd["funding-quiz"].validate(h)||!f.length)h.attr("data-action",a.attr("action")),f.addClass("set-prev"),$.ajax({url:d,type:"POST",cache:!1,data:k}).done(function(d){d=$(d);var g=d.find(b.target).eq(0);a.attr("action",g.attr("action"));var h=d.find("#"+l);h.hasClass("set")?(f.filter("#"+
l).remove(),h.addClass("set-next"),e.append(h),setTimeout(function(){h.removeClass("set-next");dd["funding-quiz"].resize(a)},100)):a.html(h);f=e.find(".set");dd.util.initModules(h);dd.util.initHelpers(h)})}});dd["funding-quiz"].resize(a);$(window).on("dd:resize",function(){dd["funding-quiz"].resize(a);setTimeout(function(){dd["funding-quiz"].resize(a)},350)});setTimeout(function(){dd["funding-quiz"].resize(a)},350)})},validate:function(a){var b=0;a.find(".answers :input").each(function(){$(this).is(":checked")&&
(b=1)});return!!b},activeSet:function(a){return a.filter(":not(.set-prev, .set-next)")},resize:function(a){a=a.find(".stage").find(".rail");var b=a.find(".set"),c=0;dd["funding-quiz"].activeSet(b).each(function(){var a=$(this).find(".dolly").height();a>c&&(c=a)});a.height(c)}}})(dd);
(function(){dd.header={settings:{target:".mod-header",trigger:".primary a[data-menu]",menu:".nav-body .menu",active:"menu-active",search:".aux-search",mobile:".mn-trigger",scroll:"mob-active"},init:function(a){var b=this.settings,c=$("body");$(b.target,a).addBack(b.target).each(function(){var a=$(this),e=a.find(b.search).find("a");a.find(b.mobile).on("click",function(a){c.hasClass("mob-active")?c.removeClass(b.scroll):(c.addClass(b.scroll),c.css("height",$(window).height()));a.preventDefault();$(window).on("dd:bodyClick",
function(a,d){d=$(d);d.is(".nav-mask")&&c.removeClass(b.scroll)})});e.on("click",function(b){var c=$(this),e=a.find(".nav-aux"),k=e.hasClass("search-active"),l=a.find(c.data("menu"));k?(e.removeClass("search-active"),l.hide()):(e.addClass("search-active"),"sml"==dd.util.layout()&&l.show());b.preventDefault();$(window).on("dd:bodyClick",function(b,c){c=$(c);if(isOutsideSearch=!c.closest(".aux-search").length)a.find(".nav-aux").removeClass("search-active"),l.hide()})});a.on("click",b.trigger,function(c){var e=
$(c.target);e.hasClass(b.active)||(dd.header.open(e,a),c.stopPropagation(),c.preventDefault())}).on("click",".menu-close",function(b){dd.header.close(a);b.preventDefault()})})},open:function(a,b){var c=dd.header.settings;"undefined"==typeof b&&(b=a.closest(c.target));dd.header.close(b);var d=b.find(a.data("menu"));a.add(d).addClass(c.active);$(window).on("dd:bodyClick",function(a,d){d=$(d);if(isOutsideMenu=!d.closest(c.menu).length)dd.header.close(b),$("body").off("click",arguments.callee)})},close:function(a){var b=
dd.header.settings;"undefined"==typeof a&&(a=$(b.target));var c=a.find(b.trigger);a=a.find(b.menu);c.add(a).removeClass(b.active)}}})(dd);
(function(){dd["jump-links-static"]={settings:{defer:!0,target:".mod-jump-links-static",currentSection:"current-section"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this),d=a.find(".pin-reserve .jump-links a"),e=dd["jump-links-static"].getPositions(d),f=dd["jump-links-static"].buildSelect(d);a.find(".jump-links").before(f);f.wrap('<span class="mod-select"></span>');a=f.parent();dd.select.init(a);$(window).on("dd:resize",function(){e=dd["jump-links-static"].getPositions(d)});
setTimeout(function(){d=$(b.target).find(".pin-reserve .jump-links a");$(window).trigger("scroll");e=dd["jump-links-static"].getPositions(d)},300);$(window).on("scroll",function(){var a=$(window).scrollTop(),c=0,k=0;$.each(e,function(b,d){a>d-100&&(c=k);k++});d.removeClass(b.currentSection).eq(c).addClass(b.currentSection);f.prop("selectedIndex")!==c&&(f.prop("selectedIndex",c),f.parent().find(".select-placeholder").html(dd.select.placeholderValue(f)))});f.on("change",function(a){a=f.val();a=$(a);
a.length&&dd["scroll-to"].scrollTo(a)})})},getPositions:function(a){var b={};a.each(function(){var a=$(this),d=a.attr("href")||"#";"#"==d.charAt(0)&&1<d.length&&$(d).length&&(a=+(a.attr("data-offset")||0),b[d]=$(d).offset().top+a)});return b},buildSelect:function(a){var b=$("<select>");a.each(function(){var a=$(this),d=a.attr("href")||"#",a=$.trim(a.text());"#"==d.charAt(0)&&1<d.length&&(d=$('<option value="'+d+'">'+a+"</option>"),d.attr("data-placeholder",a),b.append(d))});return b}}})(dd);
(function(){dd.lazyload={settings:{target:"img[data-src]",lazy:".lazyloaded",preloadOffset:50},init:function(a){$(window).on("dd:resize scroll click",$.proxy(dd.lazyload.update,a));dd.lazyload.update.call(a)},update:function(){var a=dd.lazyload.settings;$(this).find(a.target).each(function(){var b=$(this),c=0;if(!b.hasClass(a.lazy.substring(1))&&!b.closest(".lazyloading").length&&dd.lazyload.inViewport(b)){var d=setTimeout(function(){c=b.wrap('<div class="lazyloading">').parent()},1500);b.attr("src",
b.data("src")).removeData("src").load(function(){b.addClass(a.lazy.substring(1));b.removeAttr("height").removeAttr("width").css({height:"",width:""});clearTimeout(d);c&&(c.replaceWith(b),c=0);$(window).trigger("resize")});b[0].complete&&b.load()}})},inViewport:function(a){var b=dd.lazyload.settings,c=a.offset(),d=$(window),e=d.scrollTop(),f=d.scrollLeft(),e=e+b.preloadOffset;return d.innerHeight()+e>c.top&&d.innerWidth()+f>c.left&&e<c.top+a.outerHeight(!0)&&f<c.left+a.outerWidth(!0)}}})(dd);
(function(){dd.location={coords:"",getPosition:function(){function a(a){dd.location.updateCoords(a.coords)}function b(){dd.location.updateCoords("")}"geolocation"in navigator?navigator.geolocation.getCurrentPosition(a,b):b()},updateCoords:function(a){dd.location.coords=a;$(window).trigger("dd:locationUpdate",a)}}})(dd);
(function(){dd["meta-viewport"]={init:function(){this.tag=$('meta[name="viewport"]');this.initialValue=this.tag.attr("content");navigator.userAgent.match(/iPhone|iPad/i)&&($(window).on("rotate",function(){dd["meta-viewport"].preventZoom(100)}),$(":input").on("focus",function(){dd["meta-viewport"].preventZoom()}).on("blur",function(){dd["meta-viewport"].restore()}))},preventZoom:function(a){"undefined"==typeof a&&(a=0);dd["meta-viewport"]._preventZoom();0<a&&setTimeout(function(){dd["meta-viewport"].restore()},
a)},_preventZoom:function(){dd["meta-viewport"].tag.attr("content",dd["meta-viewport"].initialValue+", maximum-scale=1.0, user-scalable=no")},restore:function(){dd["meta-viewport"].tag.attr("content",dd["meta-viewport"].initialValue)}}})(dd);
(function(){dd.pin={settings:{target:".mod-pin",body:".pin-body",active:"pin-active",reserve:"pin-reserve",clone:"pin-clone",disabled:"pin-disabled"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){function a(){k.length||h.height(l.height());q=e.offset().top;f&&(t=f.offset().top)}var d=$(this),e=d.attr("data-pin-start"),f=d.attr("data-pin-end"),g=+d.attr("data-pin-offset")||0,h=d.find("."+b.reserve),k=d.find("."+b.clone),l=d.find(b.body),m=0,q=0,t=0;!h.length&&
k.length&&(k=k.clone(),h=k.addClass(b.reserve),l=h.find(b.body),d.addClass("pin-has-clone").append(k));e?(e=$(e),e.length||(e=d)):e=d;q=e.offset().top;f&&(f=$(f),f.length||(f=!1));f&&(t=f.offset().top);$(window).on("dd:resize",a).on("scroll",function(){var e=$(window).scrollTop(),h=e-g>q,h=!d.hasClass(b.disabled)&&h;f&&(h=h&&e-g<t);d.toggleClass(b.active,h);m!==h&&a();m=h});a()})}}})(dd);
(function(){dd["prime-link"]={settings:{target:".mod-prime-link",link:".prime-link",hover:"prime-hover",pressable:"a, :input, label"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this),d=a.find(b.link);a.on("click",function(e){var f=$(e.target),g=a.hasClass("prime-disabled"),h=e.isDefaultPrevented(),k=f.is(b.pressable);g?e.preventDefault():k||!d||h?f.is(d)&&!h&&f.is("a")&&(window.location=d.prop("href")):d.trigger("click");(k||d.is(b.pressable))&&$(window).trigger("dd:updateCheckedState")}).on("mouseover mouseleave",
function(d){a.toggleClass(b.hover,"mouseover"==d.type)})})}}})(dd);
(function(){dd["quick-links"]={settings:{target:".mod-quick-links",currentSection:"current-section"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this),d=a.find(".jump-links a"),e=dd["quick-links"].getPositions(d),f=dd["quick-links"].buildSelect(d);a.find(".jump-links").before(f);f.wrap('<span class="mod-select"></span>');a=f.parent();dd.select.init(a);$(window).on("dd:resize",function(){e=dd["quick-links"].getPositions(d)});setTimeout(function(){e=
dd["quick-links"].getPositions(d)},300);$(window).on("scroll",function(){var a=$(window).scrollTop(),c=0,k=0;$.each(e,function(b,d){a>d-100&&(c=k);k++});d.removeClass(b.currentSection).eq(c).addClass(b.currentSection);f.prop("selectedIndex")!==c&&(f.prop("selectedIndex",c),f.parent().find(".select-placeholder").html(dd.select.placeholderValue(f)))});f.on("change",function(a){a=f.val();a=$(a);a.length&&dd["scroll-to"].scrollTo(a)})})},getPositions:function(a){var b={};a.each(function(){var a=$(this),
d=a.attr("href")||"#";"#"==d.charAt(0)&&1<d.length&&$(d).length&&(a=+(a.attr("data-offset")||0),b[d]=$(d).offset().top+a)});return b},buildSelect:function(a){var b=$("<select>");a.each(function(){var a=$(this),d=a.attr("href")||"#",e=a.find("i.small:not(.hover-sml)"),a=$.trim(a.text()),e=$("<div>").append(e.clone()).html();"#"==d.charAt(0)&&1<d.length&&(d=$('<option value="'+d+'">'+a+"</option>"),d.attr("data-placeholder",e+" "+a),b.append(d))});return b}}})(dd);
(function(){dd["read-more"]={settings:{target:".mod-read-more",links:".rm-link"},init:function(a){var b=dd["read-more"].settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);a.find(b.links).on("click",function(b){a.toggleClass("rm-show");$(window).trigger("dd:resize");$(window).trigger("dd:contentHidden",a);a.hasClass("rm-show")||"sml"!=dd.util.layout()||dd["scroll-to"].scrollTo(a);b.preventDefault()})})}}})(dd);
(function(){dd["request-guide-tiles"]={settings:{target:".mod-request-guide-tiles"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(a){function b(){dd["request-guide-tiles"].updateBasket(e,f,g)}var e=$(this),f=e.find(".tile"),g=e.find(".selected-guides");b();f.on("change",":input",b);$(window).on("dd:updateCheckedState",b);f.each(function(){var a=$(this).find(":checkbox").siblings("label[data-selected]");a.data("not-selected",a.html())})})},updateBasket:function(a,
b,c){b=dd["request-guide-tiles"].getCount(b);var d="";0<b[0]&&(d=c.data("format"),d=d.replace("{{fileCount}}",b[0]),d=d.replace("{{fileSize}}",dd["request-guide-tiles"].formatSize(b[1])));a.toggleClass("request-has-selection",0!==b[0]);c.html(d)},getCount:function(a){var b=[0,0];a.each(function(){var a=$(this),d=a.find(":checkbox"),e=d.is(":checked");dd["request-guide-tiles"].tileChange(a,d,e);e&&(a=parseInt(a.data("filesize-kb"),10),b[0]++,b[1]+=a)});return b},tileChange:function(a,b,c){a.toggleClass("guide-selected",
c);a=b.siblings("label[data-selected]");b="";b=c?a.data("selected"):a.data("not-selected");a.html(b)},formatSize:function(a){a=parseInt(a,10);return 1024<a?Math.round(a/1024*100)/100+"mb":a+"kb"}}})(dd);
(function(){dd.results={settings:{target:".mod-results",comparePalette:".compare-palette",comparePaletteActive:"compare-palette-active",compareList:".compare-list",compareHasEntry:"compare-has-entry",compareButtonActive:"compare-valid",compareMaxCapacity:"compare-max",compareMaxCount:3,compareSelected:"compare-selected",resultsActive:"compare-results-active",comparePopulated:"populated",comparePlaceholder:'<li><span class="title"></span><a href="#" title="Remove from compare" class="remove-home"></a><input type="hidden" class="value" name="compare-home[]"></li>'},
init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);dd.results.comparePalette(a);dd.results.mapSwitch(a)})},mapSwitch:function(a){var b=a.find(".toggle-tiles"),c=a.find(".toggle-map"),d=b.add(c);b.on("click",function(c){c.preventDefault();a.removeClass("map-active");$(window).trigger("dd:resize");d.removeClass("active");b.addClass("active")});c.on("click",function(b){b.preventDefault();a.addClass("map-active");$(window).trigger("dd:resize");dd["map-results"].setup(a);
d.removeClass("active");c.addClass("active")})},comparePalette:function(a){var b=dd.results.settings,c=a.find(".tile"),d=a.find(".compare-list"),e=a.find(".toggle-compare");dd.results.compareRebuild(d,a);dd.results.compareSwitch(a,c,d,!a.hasClass(b.comparePaletteActive));e.on("click",function(e){a.hasClass(b.resultsActive)||e.preventDefault();dd.results.compareSwitch(a,c,d,a.hasClass(b.comparePaletteActive))});a.on("click",".compare-switch a",function(e){e.preventDefault();e=$(e.target).closest(c);
e.hasClass(b.compareSelected)?dd.results.removeFromCompare(e,a):dd.results.compareCount(d,a)<b.compareMaxCount&&dd.results.addToCompare(e,a);$(window).trigger("dd:resize")});d.on("click",".remove-home",function(d){d.preventDefault();d=$(d.target).closest("li").find(".value").val();d=c.filter("."+b.compareSelected+'[data-value="'+d+'"]').eq(0);dd.results.removeFromCompare(d,a);$(window).trigger("dd:resize")})},compareSwitch:function(a,b,c,d){var e=dd.results.settings;a.hasClass(e.resultsActive)||(a.toggleClass(e.comparePaletteActive,
!d),a.find(".mod-pin").toggleClass("pin-disabled",d),b.toggleClass("prime-disabled",!d),$(window).trigger("dd:resize"),d||($(window).scrollTop(a.offset().top-40),dd.results.compareRebuild(c,a),$(window).trigger("dd:resize")))},addToCompare:function(a,b){var c=dd.results.settings,d=b.find(c.comparePalette).find(c.compareList),e=d.find("li"),f=a.attr("data-title"),g=a.attr("data-value"),e=e.filter(":not(."+c.comparePopulated+")").eq(0);dd.results.compareSlotUpdate(e,f,g);a.addClass(c.compareSelected);
return dd.results.compareCount(d,b)},removeFromCompare:function(a,b){var c=dd.results.settings,d=b.find(c.comparePalette).find(c.compareList),e=d.find("li");a.attr("data-title");var f=a.attr("data-value"),e=e.find(".value").filter(function(){return this.value==f}).eq(0).closest(e);dd.results.compareSlotUpdate(e);a.removeClass(c.compareSelected);return dd.results.compareCount(d,b)},compareSlotUpdate:function(a,b,c){var d=dd.results.settings;a.length&&(b||(c=b=""),a.find(".title").text(b),a.find(".value").val(c),
a.toggleClass(d.comparePopulated,!!b))},compareCount:function(a,b){var c=dd.results.settings,d=0;a.find("li").each(function(){$(this).hasClass("populated")&&d++});b.toggleClass(c.compareHasEntry,0<d).toggleClass(c.compareButtonActive,2<=d).toggleClass(c.compareMaxCapacity,d>=c.compareMaxCount);return d},compareRebuild:function(a,b){var c=dd.results.settings;a.html("");for(var d=0;d<c.compareMaxCount;d++){var e=$(c.comparePlaceholder);a.append(e)}b.find(".mod-tile-results ."+c.compareSelected).each(function(a){var d=
$(this);a<c.compareMaxCount&&dd.results.addToCompare(d,b)});return dd.results.compareCount(a,b)}}})(dd);
(function(){dd["scroll-to"]={init:function(a){$('a[href^="#"]',a).on("click",function(b){var c=$(this),d=c.attr("href");d.split("#")[1]&&(d=$(d,a),d.length&&(c=+(c.attr("data-offset")||0),c=d.offset().top+c,dd["scroll-to"].scrollTo(c),b.preventDefault()))})},scrollTo:function(a,b){"undefined"==typeof b&&(b=600);var c=-1;if("number"==typeof a)c=a;else if(a.length){var d=a.outerHeight(),e=a.offset().top,f=$(window).height(),g=$(window).scrollTop();if(e<g||e>g+f||e+d<g||e+d>g+f)c=e>g&&d<f?e-(f-d):e}0<=
c&&$("html:not(:animated), body:not(:animated)").animate({scrollTop:c},b)}}})(dd);(function(){dd["select-load"]={settings:{target:".mod-select-load"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);$("select",a).on("change",dd["select-load"].load)})},load:function(a){$(a.currentTarget)}}})(dd);
(function(){dd.select={settings:{target:".mod-select",placeholder:'<div class="select-placeholder"></div>',dropdown:'<div class="select-dropdown"></div>',focus:"focus",selected:"select-selected",active:"select-active"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this),d=a.find("select"),e=$(b.placeholder),f=a.attr("data-dropdown");e.html(dd.select.placeholderValue(d));e.appendTo(a);if("custom"==f)e.html('<a href="#">'+e.html()+"</a>").on("click",function(d){a.hasClass(b.active)?
dd.select.closeDropdown(a):dd.select.openDropdown(a);d.preventDefault()}).on("keydown",function(b){if(38==b.keyCode||40==b.keyCode||32==b.keyCode)dd.select.openDropdown(a),b.preventDefault()}).find("a"),dd.select.buildDropdown(a,d,e),$("body").on("click",function(d){$(d.target).closest(b.target).length||dd.select.closeDropdown(a,!1)});else a.on("mouseenter",".select-placeholder",function(){dd.select.resize(a,d)});d.on("change",function(b){b=dd.select.placeholderValue(d);"custom"==f&&(b='<a href="#">'+
b+"</a>");e.html(b);dd.select.resize(a,d)});d.on("focus blur",function(d){a.toggleClass(b.focus,"focus"==d.type)});a.on("focusin focusout",".select-placeholder a",function(d){a.toggleClass(b.focus,"focusin"==d.type)});dd.select.resize(a,d);$(window).on("dd:resize",function(){dd.select.resize(a,d)})})},rebuild:function(a){a=dd.select.validTarget(a);a.each(function(){var a=$(this),c=a.find("select"),d=a.find(".select-placeholder");dd.select.buildDropdown(a,c,d)})},buildDropdown:function(a,b,c){c=$(dd.select.settings.dropdown);
var d=dd.select.getOptions(b);a.find(".select-dropdown").remove();c.html(d);a.append(c);d=d.find("[data-value]");c.on("click",function(c){var e=$(c.target).closest("[data-value]");if(e.length){var h=0;d.each(function(a){$(this).is(e)&&(h=a)});b.prop("selectedIndex",h).trigger("change");dd.select.closeDropdown(a)}c.preventDefault()});var e=c.find("[data-value]");c.on("keydown",function(a){var b=$(document.activeElement);if(38==a.keyCode||40==a.keyCode){var c=e.index(b),d=1;38==a.keyCode&&(d=-1);c+=
d;0>c&&(c=0);e.eq(c).focus();a.preventDefault()}32==a.keyCode&&(a.preventDefault(),b.trigger("click"));9==a.keyCode&&a.preventDefault();27==a.keyCode&&dd.select.closeDropdown(b)})},openDropdown:function(a){var b=dd.select.settings;a=dd.select.validTarget(a);a.addClass(b.active);var c=dd.select.getSelectedIndex(a);a.find(".select-dropdown [data-value]").removeClass(b.selected).eq(c).addClass(b.selected).focus()},closeDropdown:function(a,b){var c=dd.select.settings;a=dd.select.validTarget(a);a.removeClass(c.active);
("undefined"==typeof b||b)&&a.find(".select-placeholder a").eq(0).focus()},getSelectedIndex:function(a){a=a.find("option");var b=a.filter(":selected"),c=0;a.each(function(a){$(this).is(b)&&(c=a)});return c},getOptions:function(a){var b=$("<ul></ul>");a.children().each(function(){var a=$(this),d="";a.is("optgroup")?(d=dd.select.getOptions(a),d.addClass("optgroup"),d=d.wrap("<li></li>").parent(),d.prepend('<div class="optgroup-label">'+dd.select.optionValue(a)+"</div>")):(d=$('<a href="#" data-value="'+
a.val()+'"></a>'),d.html(dd.select.optionValue(a)),d=d.wrap("<li></li>").parent());b.append(d)});return b},validTarget:function(a){var b=dd.select.settings.target;a&&a.filter(b).length||(a=$(b));return a},optionValue:function(a){return a.is("optgroup")?a.data("placeholder")||a.attr("label"):a.data("placeholder")||a.text()},placeholderValue:function(a){a=a.find("option:selected");return dd.select.optionValue(a)},resize:function(a,b){b.height(a.height()).width(a.width())}}})(dd);
(function(){dd["slab-showcase"]={settings:{target:".mod-slab-showcase"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);a.find(".slab-video .video-modal").on("click",function(b){dd["slab-showcase"].videoModal(a,$(this));b.preventDefault()});dd["slab-showcase"].eqHeights(a)})},videoModal:function(a,b){$(dd["slab-showcase"].settings.target).find(".showcase-modal").remove();var c=dd["slab-showcase"].buildModal(a),d=dd.video.createPlaceholder(b);c.prepend(d);
dd.video.play(d);dd["scroll-to"].scrollTo(a);$(window).on("dd:contentHidden",function(a,d){b.is(":visible")||c.remove()});return c},buildModal:function(a){var b=a.find(".slab").eq(0).outerHeight(),c=$('<div class="showcase-modal"></div>'),d=$('<a href="#" class="modal-close">Close</a>');c.height(b);c.prepend(d);d.on("click",function(a){c.remove();a.preventDefault()});a.prepend(c);return c},eqHeights:function(a){a.attr("data-tables",".col");a.attr("data-rows",".slab");dd["eq-rows"].tables(a)}}})(dd);
(function(){dd["static-map"]={settings:{target:".mod-static-map"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(a){a=$(this);var b=a.find(".map-canvas"),e=a.find(".map-trigger").attr("target","_blank").hide(),f=b.data("map")||[],g=b.data("markers")||[],h=b.data("img");f.center||(f.center=new google.maps.LatLng(f.lat,f.lng));var k=new google.maps.Map(b[0],f);bounds=new google.maps.LatLngBounds;var l=new google.maps.OverlayView;l.setMap(k);l.draw=function(){this.ready||
(this.ready=!0,google.maps.event.trigger(this,"ready"))};k.setOptions({styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]});var m=[],q=[];for(a=0;a<g.length;a++){g[a].icon||(g[a].icon=h.defaultPin);g[a].type||(g[a].type="default");var t=new google.maps.LatLng(g[a].lat,g[a].lng),n=new google.maps.Marker({position:t,map:k,content:g[a].content,icon:{url:g[a].icon},type:g[a].type});m.push(n);n.getVisible()&&bounds.extend(n.getPosition());google.maps.event.addListener(n,"click",function(){q=dd["static-map"].triggerBubble(b,
l,n,m)})}google.maps.event.addListener(k,"click",function(){e.is("a")&&e.length&&window.open(e.get(0))});k.fitBounds(bounds);google.maps.event.addListenerOnce(k,"idle",function(){dd["static-map"].resize(k,f);q=dd["static-map"].triggerBubble(b,l,m[0],m);$(window).on("dd:resize",function(){dd["static-map"].resize(k,f);q=dd["static-map"].triggerBubble(b,l,q,m)})})})},resize:function(a,b){var c=$(window).width(),d=426;"lrg"!==dd.util.layout()&&(d=c/2-70);a.setCenter(b.center);a.panBy(d,-80)},triggerBubble:function(a,
b,c,d){dd["static-map"].closeBubble(a,d);var e=$('<div class="m-bubble"></div>');e.html(c.content);e.on("click",".m-close",function(b){b.preventDefault();dd["static-map"].closeBubble(a,d)});a.append(e);c.setVisible(!1);var f=new google.maps.LatLng(c.position.lat(),c.position.lng());b=b.getProjection().fromLatLngToContainerPixel(f);f=parseInt(e.css("margin-top"),10);f=f-e.outerHeight()+"px";e.css({marginTop:f,top:b.y,left:b.x});return c},closeBubble:function(a,b){a.find(".m-bubble").remove();for(i=
0;i<b.length;i++)b[i].setVisible(!0);return[]}}})(dd);
(function(){dd.suggest={settings:{target:".mod-suggest",active:"suggest-active",focused:"suggest-focus",dropdown:'<div class="suggest-dropdown"></div>',optionActive:"active",characterThreshold:1,resultLimit:5,throttle:350,geoAvailable:"geolocation-available"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this),d=$(b.dropdown);a.append(d);dd.suggest.input(a,d);a.hasClass("suggest-location")&&dd.suggest.geoLocation(a,d)})},input:function(a,b){var c=dd.suggest.settings,
d=a.find(".suggest-query"),e=0,f=0,g=a.attr("data-type")||"post",h=a.attr("data-limit")||c.resultLimit,k=a.attr("data-action"),l=a.attr("data-locate-label")||"data-locate-label",m=a.attr("data-locate-value")||"data-locate-value",q=!!a.attr("data-submit-on-suggest");d.attr("autocomplete","off");var t=d.attr("placeholder");d.on("focus blur",function(b){"focus"==b.type?d.attr("placeholder",""):d.attr("placeholder",t);a.toggleClass(c.focused,"focus"==b.type)});d.on("keydown",function(a){13==a.keyCode&&
f&&a.preventDefault()});d.on("keyup focus",function(f){if(38!=f.keyCode&&40!=f.keyCode&&13!=f.keyCode){var p=d.val(),u=d.attr("name")+"="+p;p.length>=c.characterThreshold&&k?(clearTimeout(e),e=setTimeout(function(){$.ajax({url:k,cache:!1,type:g,data:u,dataType:"json"}).done(function(d){var e=[a.hasClass(c.geoAvailable),l,m];(d=dd.suggest.buildList(d,p,h,e))?(b.html(d),a.addClass(c.active)):dd.suggest.closeList(a)})},c.throttle)):dd.suggest.closeList(a)}});b.on("click","li",function(b){b=$(b.target).closest("li");
d.val(b.attr("data-value"));q&&a.closest("form").submit()});d.on("blur",function(b){setTimeout(function(){dd.suggest.closeList(a)},100)});d.on("keydown",function(e){var g=b.find("[data-value]");active=g.filter("."+c.optionActive);if(38==e.keyCode||40==e.keyCode){var h=g.index(active),k=1;f=1;38==e.keyCode&&(k=-1);h+=k;0>h&&(h=0);g.removeClass(c.optionActive).eq(h).addClass(c.optionActive);e.preventDefault()}13==e.keyCode&&(active.length&&(h=g.index(active),g=g.eq(h).attr("data-value"),d.val(g),f=
0,dd.suggest.closeList(a)),q&&a.closest("form").submit());27==e.keyCode&&f&&dd.suggest.closeList(a)})},closeList:function(a){a.removeClass(dd.suggest.settings.active)},buildList:function(a,b,c,d){var e=d[1],f=d[2];d[0]&&a.push(e);var g=$("<ul></ul>"),h=new RegExp(b,"i"),k=a.length;if(0!==k&&(1!==k||a[0]!=b&&b!=f)){c>k&&(c=k);for(b=0;b<c;b++)k=a[b],d[0]&&b===c-1?g.append('<li class="current-location" data-value="'+f+'">'+e+"</li>"):(optionHighlight=k.replace(h,'<span class="highlight">$&</span>'),
g.append('<li data-value="'+k+'">'+optionHighlight+"</li>"));return g}},geoLocation:function(a,b){var c=dd.suggest.settings;if("undefined"!==typeof dd.location){var d=a.find('[name="lat"]'),e=a.find('[name="lng"]');$(window).on("dd:locationUpdate",function(b,g){g?(d.val(g.latitude),e.val(g.longitude),a.addClass(c.geoAvailable)):(d.val(""),e.val(""),a.removeClass(c.geoAvailable))});dd.location.getPosition()}}}})(dd);
(function(){dd["switch"]={settings:{target:".mod-switch",on:"switch-on",off:"switch-off"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var b=$(this);b.attr("data-group");var d=b.find("[data-switch]"),e=a.find("[data-switch]").not(d);dd["switch"].change(b,d,e);b.on("change blur",function(a){dd["switch"].change(b,d,e)})})},change:function(a,b,c){b=dd["switch"].settings;a=dd["switch"].getValue(a);c.removeClass(b.on).addClass(b.off);a&&a.attr("data-switch")&&(a=
c.filter('[data-switch="'+a.attr("data-switch")+'"]'),a.length&&a.removeClass(b.off).addClass(b.on))},getValue:function(a){return a.is("select")?a.find("option").filter(":selected"):a.find(":input").filter(":checked")}}})(dd);
(function(){dd.tel={settings:{target:'a[href^="tel:"], a[data-tel-href]'},init:function(a){dd.tel.resize(a);$(window).on("dd:resize",function(){dd.tel.resize(a)})},resize:function(a){var b=dd.tel.settings,c="lrg"==dd.util.layout();$(b.target,a).addBack(b.target).each(function(){var a=$(this),b=a.attr("href")||a.attr("data-tel-href");a.attr("data-tel-href",b).toggleClass("tel-disabled",c);c?a.removeAttr("href"):a.attr("href",b)})}}})(dd);
(function(){dd["tile-results"]={settings:{target:".mod-tile-results",tile:".tile"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){var a=$(this);dd["tile-results"].contactReveal(a);dd["tile-results"].tilesEqualHeights(a);$(window).on("dd:resize",function(){dd["tile-results"].tilesEqualHeights(a)})})},contactReveal:function(a){function b(a){var b=$(a.target);a=!!b.closest(".contact-reveal").length;b=!!b.closest(".contact-details").length;a||b||c.removeClass("tile-contact-reveal")}
var c=a.find(dd["tile-results"].settings.tile);c.on("click",".contact-reveal",function(a){a.preventDefault();$(a.target).closest(c).toggleClass("tile-contact-reveal")});$("body").off("click",b).on("click",b)},tilesEqualHeights:function(a){a=a.find(dd["tile-results"].settings.tile);var b=a.length,c=0,d=0;a.each(function(){offset=$(this).offset().top;if(offset>d&&d)return!1;c++;d=offset});if(1<c){b=Math.ceil(b/c);rows=[];for(var e=0;e<b;e++)rows.push(a.slice(e*c,(e+1)*c));rows=$(rows);rows.each(function(){var a=
0;$(this).each(function(){var b=$(this).css("height","").height();b>a&&(a=b)}).height(a)})}else a.css("height","")}}})(dd);(function(){dd.toggle={settings:{target:".mod-toggle"},init:function(a){var b=dd.toggle.settings;$(b.target,a).addBack(b.target).each(function(){$(this)})}}})(dd);
(function(){dd.video={settings:{target:".mod-video",body:".vi-body"},init:function(a){var b=this.settings;$(b.target,a).addBack(b.target).each(function(){body=$(this).find(b.body);body.html(dd.video.createPlaceholder(body))})},createPlaceholder:function(a){a=a.attr("data-youtube");a=$('<div class="vi-player" data-youtube="'+a+'"><img src="http://img.youtube.com/vi/'+a+'/mqdefault.jpg" width="100%"><div class="vi-play"><div class="orb"><i class="i-orb-play"></i></div><div class="access">Play video</div></div></div>');
a.on("click",dd.video.thumbClick);return a},thumbClick:function(a){a=$(a.currentTarget);dd.video.play(a);return a},play:function(a){var b='<iframe src="https://www.youtube.com/embed/'+a.attr("data-youtube")+"?autoplay=1&autohide=1&border=0&wmode=opaque&enablejsapi=1&origin="+(location.protocol+"//"+location.host)+'" height="'+a.height()+'" width="100%" allowfullscreen>';a.html(b);dd["scroll-to"].scrollTo(a);$(window).on("dd:contentHidden",function(b,d){a.is(":visible")||dd.video.action(a,"pauseVideo")});
return a},playerContext:function(a){a=$(a).find("iframe").addBack("iframe");return a.length?a.get(0).contentWindow:!1},action:function(a,b){var c=dd.video.playerContext(a);c&&c.postMessage('{"event": "command","func": "'+b+'","args": ""}',"*");return c}}})(dd);